{% extends "bash.html" %}

{% block title %}
    文件上传
{% endblock %}

{% load static %}
{% block css_style %}
    <link href="{% static 'inspinia/css/plugins/dropzone/basic.css' %}" rel="stylesheet">
    <link href="{% static 'inspinia/css/plugins/codemirror/codemirror.css' %}" rel="stylesheet">
    <link href="{% static 'inspinia/css/plugins/jasny/jasny-bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'inspinia/css/plugins/dropzone/dropzone.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
        <!-- Jasny -->
        <script src="{% static 'inspinia/js/plugins/jasny/jasny-bootstrap.min.js' %}"></script>

        <!-- DROPZONE -->
        <script src="{% static 'inspinia/js/plugins/dropzone/dropzone.js' %}"></script>

        <!-- CodeMirror -->
        <script src="{% static 'inspinia/js/plugins/codemirror/codemirror.js' %}"></script>
        <script src="{% static 'inspinia/js/plugins/codemirror/mode/xml/xml.js' %}"></script>
            <div class="row wrapper border-bottom white-bg page-heading">
                <div class="col-lg-10">
                    <h2>资料页</h2>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="{% url 'users:index' %}">主页</a>
                        </li>
                        <li class="breadcrumb-item">
                            <a>文件管理</a>
                        </li>
                        <li class="breadcrumb-item active">
                            <strong>文件上传</strong>
                        </li>
                    </ol>
                </div>
            </div>
        <div class="wrapper wrapper-content">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-title">
                            <h5>Dropzone.js</h5>
                        </div>
                        <div class="ibox-content">

                            <p>
                                <strong>Dropzone.js</strong> 是一个轻量级的JavaScript库，将HTML元素转换为dropzone。这意味着用户可以将文件拖放到其上，并且该文件通过AJAX上传到服务器。
                            </p>

                            <form action="#" class="dropzone" id="dropzoneForm">
                                <div class="fallback">
                                    <input name="file" type="file" multiple />
                                </div>
                            </form>
                            <br>
                            <p class="m-t-xs">
                                abowe的HTML标记代码示例：
                            </p>

                        </div>
                    </div>
                </div>
            </div>
            <script>
                Dropzone.options.dropzoneForm = {
                    paramName: "file", // The name that will be used to transfer the file
                    maxFilesize: 2, // MB
                    dictDefaultMessage: "<strong>在这里删除文件或点击上传。</strong></br>这只是一个演示的dropzone上传窗口，所选文件实际上没有上传。"
                };

                $(document).ready(function(){

                    var editor_one = CodeMirror.fromTextArea(document.getElementById("code1"), {
                        lineNumbers: true,
                        matchBrackets: true
                    });

                    var editor_two = CodeMirror.fromTextArea(document.getElementById("code2"), {
                        lineNumbers: true,
                        matchBrackets: true
                    });

                    var editor_two = CodeMirror.fromTextArea(document.getElementById("code3"), {
                        lineNumbers: true,
                        matchBrackets: true
                    });

                    var editor_two = CodeMirror.fromTextArea(document.getElementById("code4"), {
                        lineNumbers: true,
                        matchBrackets: true
                    });


                    $('.custom-file-input').on('change', function() {
                        let fileName = $(this).val().split('\\').pop();
                        $(this).next('.custom-file-label').addClass("selected").html(fileName);
                    });

               });
            </script>
        </div>
{% endblock %}